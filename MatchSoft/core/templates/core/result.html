{% extends 'core/base.html' %}
{% load static %}
{% block title %}Resultado | Millonario{% endblock %}
{% block content %}
  <div class="bg-slate-800 rounded-2xl p-6 text-center">
    {% if won %}
      <h2 class="text-3xl font-bold text-amber-400 mb-4">🏆 ¡Felicidades, campeón! 🏆</h2>
      <p class="text-lg mb-2">¡Respondiste correctamente las 20 preguntas!</p>
      <p class="text-slate-300 mb-4">Has alcanzado la máxima puntuación posible.</p>
      <p class="text-amber-400 font-extrabold text-2xl">Puntuación final: {{ score }}</p>
    {% else %}
      <h2 class="text-2xl font-bold">¡Fin del juego!</h2>
      <p class="mt-2">Llegaste hasta la pregunta <b>{{ reached }}</b> de {{ total }}.</p>
      <p class="mt-1">Tu puntuación final: <span class="text-amber-400 font-bold text-xl">{{ score }}</span></p>
    {% endif %}

    <!-- ⏱️ Tiempo total empleado -->
    <p class="mt-3 text-slate-200">
      Tiempo total: <b>{{ elapsed_minutes }} min {{ elapsed_seconds }} s</b>
    </p>

    {% if last_question and last_question.explanation %}
      <details class="mt-4">
        <summary class="cursor-pointer text-slate-300">Ver explicación de la última pregunta</summary>
        <div class="mt-2 text-slate-200 whitespace-pre-wrap">{{ last_question.explanation }}</div>
      </details>
    {% endif %}

    <a href="{% url 'core:start' %}" class="inline-block mt-5 px-5 py-3 rounded-2xl bg-amber-500 text-slate-900 font-bold hover:scale-[1.05] transition">
      Jugar de nuevo
    </a>
  </div>
{% endblock %}
